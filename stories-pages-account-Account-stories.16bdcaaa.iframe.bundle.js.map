{"version":3,"file":"stories-pages-account-Account-stories.16bdcaaa.iframe.bundle.js","mappings":";;;;;AAcA;;;;;;;;;;;;;;;;;AAmBA;;;;AAMA;;;;AAIA;;AAIA;;;;AAMA;;;AAKA;;;;;;;;;;AAYA;;;;;;;;;;;;;;;;AAkBA;;;;;;AAQA;;;;;;;;;;;;AAcA;;;;;AAiCA","sources":["webpack://storybook/./src/components/pages/account/Account.jsx"],"sourcesContent":["// IMPORTS\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { StackedList } from 'liamc9npm';\r\nimport { Link } from \"react-router-dom\"; // Import Link for profile navigation\r\nimport { ChevronRightIcon } from 'liamc9npm';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Styled Components\r\nconst AccountContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh; /* Full height to position footer at the bottom */\r\n  padding: 2rem; /* Increased padding for larger layout */\r\n`;\r\n\r\nconst ProfileSection = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 24px; /* Increased padding */\r\n  background-color: #ffffff; /* White background */\r\n  border-radius: 0.5rem; /* Rounded corners */\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */\r\n  text-decoration: none;\r\n  color: inherit;\r\n  margin-bottom: 2rem; /* Space below the profile section */\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\r\n  }\r\n`;\r\n\r\nconst ProfileImage = styled.div`\r\n  width: 80px; /* Increased size */\r\n  height: 80px; /* Increased size */\r\n  border-radius: 50%;\r\n  background-image: url(${(props) => props.image || \"https://upload.wikimedia.org/wikipedia/commons/a/ac/Default_pfp.jpg\"});\r\n  background-size: cover;\r\n  background-position: center;\r\n  margin-right: 24px; /* Increased margin */\r\n`;\r\n\r\nconst ProfileInfo = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst ProfileName = styled.div`\r\n  font-size: 1.5rem; /* Larger font size */\r\n  font-weight: bold;\r\n  color: #333;\r\n`;\r\n\r\nconst ViewProfile = styled.div`\r\n  font-size: 1rem; /* Increased font size */\r\n  color: #666;\r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n  margin-left: auto;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  svg {\r\n    width: 24px; /* Increased icon size */\r\n    height: 24px;\r\n    color: #666;\r\n  }\r\n`;\r\n\r\nconst LogoutButton = styled.button`\r\n  background-color: #f3f4f6; /* Light gray */\r\n  color: #dc2626; /* Red text */\r\n  border: none;\r\n  border-radius: 0.375rem; /* Rounded corners */\r\n  padding: 0.75rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  margin-top: 2rem;\r\n  width: 100%; /* Full width */\r\n  text-align: center;\r\n\r\n  &:hover {\r\n    background-color: #e5e7eb; /* Slightly darker gray */\r\n  }\r\n`;\r\n\r\nconst Footer = styled.footer`\r\n  margin-top: auto; /* Push footer to the bottom */\r\n  text-align: center;\r\n  padding: 1.5rem 0; /* Increased padding */\r\n  font-size: 1rem; /* Increased font size */\r\n  color: #6b7280; /* Equivalent to text-gray-500 */\r\n`;\r\n\r\nconst FooterLinks = styled.div`\r\n  margin-top: 0.75rem; /* Increased margin */\r\n\r\n  a {\r\n    color: #2563eb; /* Equivalent to text-blue-600 */\r\n    text-decoration: none;\r\n    margin: 0 0.5rem;\r\n\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\nconst LoadingMessage = styled.div`\r\n  padding: 16px;\r\n  font-size: 1.25rem; /* Increased font size */\r\n  color: #666;\r\n  text-align: center;\r\n`;\r\n\r\nconst Account = ({ settings, logout, currentUser, userData }) => {\r\n  // Group settings by category\r\n  const navigate = useNavigate();\r\n\r\n  const categories = settings.reduce((acc, setting) => {\r\n    if (!acc[setting.category]) {\r\n      acc[setting.category] = [];\r\n    }\r\n    acc[setting.category].push(setting);\r\n    return acc;\r\n  }, {});\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      navigate(\"/login\"); // Redirect to login page after logout\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error);\r\n    }\r\n  };\r\n\r\n  // Handle loading and authentication state\r\n  if (currentUser === null) {\r\n    // User is not authenticated\r\n    navigate(\"/login\");\r\n    return null;\r\n  }\r\n\r\n  if (!userData) {\r\n    return <LoadingMessage>Loading user data...</LoadingMessage>;\r\n  }\r\n\r\n  return (\r\n    <AccountContainer>\r\n      {/* Profile Section */}\r\n      {userData && (\r\n        <ProfileSection to={`/profile/${userData.id}`}>\r\n          <ProfileImage image={userData.photoURL} />\r\n          <ProfileInfo>\r\n            <ProfileName>{userData.displayName || \"User Name\"}</ProfileName>\r\n            <ViewProfile>View Profile</ViewProfile>\r\n          </ProfileInfo>\r\n          <IconWrapper>\r\n            <ChevronRightIcon />\r\n          </IconWrapper>\r\n        </ProfileSection>\r\n      )}\r\n\r\n      {/* Grouped Categories */}\r\n      {Object.keys(categories).map((category, index) => (\r\n        <StackedList key={index} category={category} items={categories[category]} />\r\n      ))}\r\n\r\n      {/* Logout Button */}\r\n      <LogoutButton onClick={handleLogout}>Log Out</LogoutButton>\r\n\r\n      {/* Footer */}\r\n      <Footer>\r\n        <div>Company Name</div>\r\n        <div>Version 1.0.0</div>\r\n        <FooterLinks>\r\n          <a href=\"/terms\">Terms</a>\r\n          <a href=\"/policy\">Policy</a>\r\n        </FooterLinks>\r\n      </Footer>\r\n    </AccountContainer>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n"],"names":[],"sourceRoot":""}