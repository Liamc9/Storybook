{"version":3,"file":"stories-search-Filter2-stories.929af09a.iframe.bundle.js","mappings":";;;;;AASA;;;;AAMA;;;;;AAOA;;AAQA","sources":["webpack://storybook/./src/components/search/Filter2.jsx"],"sourcesContent":["// Filter2.js\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Filter2Container = styled.div`\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst FilterGroup = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst FilterLabel = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst GroupTitle = styled.h4`\r\n  margin: 0;\r\n`;\r\n\r\nconst Filter2 = ({ filters, onChange }) => {\r\n  // Initialize state: an object where each key is a filter category and value is an array of selected options for that category\r\n  const initialState = filters.reduce((acc, group) => {\r\n    acc[group.category] = group.options.filter(opt => opt.initial).map(opt => opt.value);\r\n    return acc;\r\n  }, {});\r\n\r\n  const [selectedFilters, setSelectedFilters] = useState(initialState);\r\n\r\n  const handleToggle = (category, value) => {\r\n    const current = selectedFilters[category] || [];\r\n    const newSelected = current.includes(value)\r\n      ? current.filter(v => v !== value)\r\n      : [...current, value];\r\n\r\n    const newState = {\r\n      ...selectedFilters,\r\n      [category]: newSelected,\r\n    };\r\n\r\n    setSelectedFilters(newState);\r\n    if (onChange) {\r\n      onChange(newState);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Filter2Container>\r\n      {filters.map(group => (\r\n        <div key={group.category}>\r\n          <GroupTitle>{group.label || group.category}</GroupTitle>\r\n          <FilterGroup>\r\n            {group.options.map(opt => (\r\n              <FilterLabel key={`${group.category}-${opt.value}`}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={(selectedFilters[group.category] || []).includes(opt.value)}\r\n                  onChange={() => handleToggle(group.category, opt.value)}\r\n                />\r\n                {opt.label}\r\n              </FilterLabel>\r\n            ))}\r\n          </FilterGroup>\r\n        </div>\r\n      ))}\r\n    </Filter2Container>\r\n  );\r\n};\r\n\r\nexport default Filter2;\r\n"],"names":[],"sourceRoot":""}